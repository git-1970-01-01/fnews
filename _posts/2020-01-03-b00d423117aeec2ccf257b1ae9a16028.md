---
title: "python爬虫：爬取男生喜欢的图片"
layout: post
author: "「」 on 2020-1-3 12:13"
header-style: text
tags:
  - 新闻
  - python
  - 喜欢
---

<head></head>
<body>
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">任务目标：</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">1.抓取不同类型的图片</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">2.编写一个GUI界面爬虫程序，打包成exe重新文件</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">3.遇到的难点</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">1.分析如何抓取不同类型的图片</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">首先打开网站，可以看到有如下6个类型的菜单</font></font></font> 
 </div>
 <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px"><img width="640" height="477" src="http://p1.pstatp.com/large/pgc-image/c1c04de65a5d49f79dcc135203651d59"><br> </font></font></font>
 <br> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">在这里插入图片描述</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">点击不同菜单，发现URL显示如下</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">大胸妹：https：/cid = 2</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">小翘臀：https：/cid = 6</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">可以看到每个类型图片对应不同的cid值</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">所以要想抓取不同类型的图片，只需要构造下url</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">将cid进行参数化，然后传给url即可</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">具体代码在以下定义</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">2.利用tkinter进行GUI编程</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">之前有写过一些tkinter编程的随笔</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">例如 利用python制作一个翻译工具</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">先来看一下这次设计的程序最终页面布局，</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">然后再具体讲下如何实现的，页面布局如下：</font></font></font> 
 </div>
 <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px"><img width="640" height="264" src="http://p3.pstatp.com/large/pgc-image/1e359e60093c4c76820d8ecbc28a1de0"><br> </font></font></font>
 <br> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">选择图片存储路径</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">抓取到的图片要保存到电脑本地，所以就想着最好能够自己挑选本地任意一个文件夹作为存储路径</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">后来网上冲浪一番发现tkinter是可以实现这个功能的</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">可以通过tkinter.filedialog模块中的askdirectory（）方法实现</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">下面是在网上找到的一段示例代码</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">具体到这个例子，</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">（1）定义一个文本框，用来存放（显示）选择的存储路径</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">（2）定一个按钮，来触发选择本地路径功能</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">（3）定义一个函数，来实现选取路径功能</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">后续保存图片时，路径可以直接使用前面定义好的的self.input中的值</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">选择分类</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">因为图片分为了6个类别，每个类别对应一个cid值，所以可以预先把cid抽象出来，视为参数传递 （1）定义一个拖动框，存储图片类型</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">（2）根据选择性类型不同，返回不同的cid值</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">3.填写爬取页数</font></font></font> 
 </div>
 <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px"><img width="425" height="81" src="http://p1.pstatp.com/large/pgc-image/cb3b6890e96a4466a6a0e0224d75c655"><br> </font></font></font>
 <br> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">在这里插入图片描述</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">自定义抓取深度，某些抓取前5页或者前10页</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">后面把这个文本文本的值传给url即可</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">3.遇到的问题</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">下载图片的名称无效，导致无法保存</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">有些图片没有名称，文件名就是.jpg， 这样在保存时会提示非法字符无法保存，程序也会报错，终止运行。</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">为了解决这个问题，我在每个文件名的末尾都加一个字母，这样就不会存在无名称图片了</font></font></font> 
 </div> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">整体效果如下：</font></font></font> 
 </div>
 <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px"><img width="638" height="302" src="http://p1.pstatp.com/large/pgc-image/714de8391d7d4c61945a196ce3f5e993"><br> </font></font></font>
 <br> 
 <div align="left"> 
  <font style="color:rgb(34, 34, 34)"><font face="&amp;quot"><font style="font-size:16px">*声明：本文于网络整理，版权归原作者所有，如来源信息有误或侵犯权益，请联系我们删除或授权事宜。</font></font></font> 
 </div>
 <br>
</body>


